import{G as m,j as e}from"./app-RMRBKV0n.js";import{A as u}from"./AuthenticatedLayout-BBWABfar.js";import"./ApplicationLogo-C5Y-Kqh1.js";import"./transition-DW6aN26w.js";function b({auth:o,bike:n}){const{data:s,setData:a,post:t,processing:d,reset:l}=m({bike_id:n.id,componente:"",fecha_revision:"",descripcion:"",proxima_revision:""}),c=r=>{r.preventDefault(),t(route("revisions.store",{bike:n.id}),{preserveScroll:!0,onSuccess:({props:i})=>{console.log("✅ Revisión creada:",i.revision),l(),onRevisionAdded&&onRevisionAdded(i.revision)},onError:i=>{console.error("❌ Error en la creación de la revisión:",i)}})};return e.jsx(u,{user:o.user,roles:o.roles,children:e.jsxs("div",{className:"p-6 bg-white shadow-md rounded-md",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-4",children:["➕ Añadir Revisión para ",n.nombre]}),e.jsxs("form",{onSubmit:c,className:"bg-gray-100 p-4 rounded shadow-md",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Componente Revisado"}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:s.componente,onChange:r=>a("componente",r.target.value),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Fecha de Revisión"}),e.jsx("input",{type:"date",className:"w-full p-2 border rounded",value:s.fecha_revision,onChange:r=>a("fecha_revision",r.target.value),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Descripción"}),e.jsx("textarea",{className:"w-full p-2 border rounded",value:s.descripcion,onChange:r=>a("descripcion",r.target.value),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Fecha Próxima Revisión (Opcional)"}),e.jsx("input",{type:"date",className:"w-full p-2 border rounded",value:s.proxima_revision,onChange:r=>a("proxima_revision",r.target.value)})]}),e.jsx("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded",disabled:d,children:"Guardar Revisión"})]})]})})}export{b as default};
