import{G as u,j as e,A as p}from"./app-BznVyk-I.js";import{A as x}from"./AuthenticatedLayout-c-jbrb34.js";import"./ApplicationLogo-ZkMGpPdN.js";import"./transition-Dsv8zLal.js";function f({auth:n,bike:i,componentes:o}){const{data:s,setData:a,post:l,processing:d,reset:t}=u({bike_id:i.id,componente_id:"",fecha_revision:"",descripcion:"",proxima_revision:""}),c=r=>{r.preventDefault(),l(route("revisions.store",{bike:i.id}),{preserveScroll:!0,onSuccess:()=>{t(),p.reload()},onError:m=>{console.error("❌ Error en la creación de la revisión:",m)}})};return e.jsx(x,{user:n.user,roles:n.roles,children:e.jsxs("div",{className:"p-6 bg-white shadow-md rounded-md",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-4",children:["➕ Añadir Revisión para ",i.nombre]}),e.jsxs("form",{onSubmit:c,className:"bg-gray-100 p-4 rounded shadow-md",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Componente Revisado"}),e.jsxs("select",{className:"w-full p-2 border rounded",value:s.componente_id,onChange:r=>a("componente_id",r.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Selecciona un componente"}),o.map(r=>e.jsx("option",{value:r.id,children:r.nombre},r.id))]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Fecha de Revisión"}),e.jsx("input",{type:"date",className:"w-full p-2 border rounded",value:s.fecha_revision,onChange:r=>a("fecha_revision",r.target.value),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Descripción"}),e.jsx("textarea",{className:"w-full p-2 border rounded",value:s.descripcion,onChange:r=>a("descripcion",r.target.value),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Fecha Próxima Revisión (Opcional)"}),e.jsx("input",{type:"date",className:"w-full p-2 border rounded",value:s.proxima_revision,onChange:r=>a("proxima_revision",r.target.value)})]}),e.jsx("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded",disabled:d,children:"Guardar Revisión"})]})]})})}export{f as default};
