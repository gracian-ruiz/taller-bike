import{G as c,r as p,j as e,A as x}from"./app-BznVyk-I.js";function f({client:a,onClose:o}){const{data:t,setData:s,post:d,put:u,processing:m,reset:l}=c({name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||"",password:"",password_confirmation:""});p.useEffect(()=>{a&&s({name:a.name,email:a.email,password:"",password_confirmation:"",_token:document.querySelector('meta[name="csrf-token"]').getAttribute("content")})},[a]);const i=r=>{r.preventDefault(),a?u(route("clients.update",a.id),{preserveScroll:!0,onSuccess:()=>{l(),o(),x.reload()}}):d(route("clients.store"),{preserveScroll:!0,onSuccess:n=>{console.log("✅ Cliente creado con éxito:",n),l(),o()},onError:n=>{console.error("❌ Error en la creación:",n)}})};return e.jsxs("div",{className:"p-4 bg-gray-50 border rounded",children:[e.jsx("h2",{className:"text-xl font-bold mb-3",children:a?"Editar Cliente":"Nuevo Cliente"}),e.jsxs("form",{onSubmit:i,children:[e.jsx("input",{type:"hidden",name:"_token",value:document.querySelector('meta[name="csrf-token"]').getAttribute("content")}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Nombre"}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:t.name,onChange:r=>s("name",r.target.value),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",className:"w-full p-2 border rounded",value:t.email,onChange:r=>s("email",r.target.value),required:!0})]}),!a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Contraseña"}),e.jsx("input",{type:"password",className:"w-full p-2 border rounded",value:t.password,onChange:r=>s("password",r.target.value),required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block font-medium text-gray-700",children:"Confirmar Contraseña"}),e.jsx("input",{type:"password",className:"w-full p-2 border rounded",value:t.password_confirmation,onChange:r=>s("password_confirmation",r.target.value),required:!0})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded",disabled:m,children:a?"Actualizar Cliente":"Guardar Cliente"}),e.jsx("button",{type:"button",onClick:o,className:"bg-gray-500 text-white px-4 py-2 rounded",children:"Cancelar"})]})]})]})}export{f as default};
